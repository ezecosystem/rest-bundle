<script type='text/javascript'>
var lsKeyName = 'xrowOpenIDConnect',
    oauthSettings = {"client_id": "{{oa_params.clid}}",
                     "client_secret": "{{oa_params.clsc}}",
                     "baseURL": "{{oa_params.clba}}",
                     "tokenURL": "{{oa_params.endpoint_token}}/token",
                     "authURL": "{{oa_params.endpoint_rest}}/auth",
                     "openIDConnectURL": "{{oa_params.endpoint_rest}}/oicauth",
                     "apiSessionURL": "{{oa_params.endpoint_rest}}/session",
                     "apiLogoutURL": "{{oa_params.endpoint_rest}}/sessions",
                     "setcookieURL": "{{oa_params.endpoint_rest}}/setcookie"},
    snDomains = new Array(),
    snCounter = 0;

{# Get all allowed domains for sharing the session cookie #}
{% if oa_params.oicdomains is defined and oa_params.clba != app.request.schemeAndHttpHost %}
{% set oicdomains = oa_params.oicdomains|split(',') %}
{% for OpenIDConnectDomain in oicdomains %}
{% if app.request.schemeAndHttpHost != OpenIDConnectDomain|trim %}
snDomains[snCounter] = '{{OpenIDConnectDomain|trim}}';
snCounter++;
{% endif %}
{% endfor %}
{% endif %}

{% if oa_params.callback_function_if_token_is_set is defined %}
var callbackFunctionIfToken = '{{oa_params.callback_function_if_token_is_set}}';
{% endif %}
{% if oa_params.callback_function_if_restLogin_fail is defined %}
var callbackRestLoginFormErrorHandling = '{{oa_params.callback_function_if_restLogin_fail}}';
{% endif %}
</script>